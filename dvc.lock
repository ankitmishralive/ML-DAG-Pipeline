schema: '2.0'
stages:
  data_collection:
    cmd: python3 src/extract_dataset.py
    deps:
    - path: src/extract_dataset.py
      hash: md5
      md5: 6e8ea954dfcb2e303e2daf9b15c2c3d4
      size: 1120
    outs:
    - path: data/raw/extracted
      hash: md5
      md5: 47e5bd5dec12f1c875e81e27060abfaf.dir
      size: 525187
      nfiles: 1
  data_preparation:
    cmd: python3 src/data_preparation.py
    deps:
    - path: data/raw/extracted/corpus.csv
      hash: md5
      md5: a5eeae83d792e40da6c2f9e1eab945fc
      size: 525187
    - path: src/data_preparation.py
      hash: md5
      md5: fe0bbb2609809cc5fbceb5804075ec8b
      size: 2380
    outs:
    - path: data/interim/cleaned_data.csv
      hash: md5
      md5: b0147d78724fa6688d427f7f950a19ab
      size: 524444
  data_splitting:
    cmd: python3 src/data_splitting.py
    deps:
    - path: data/interim/cleaned_data.csv
      hash: md5
      md5: b0147d78724fa6688d427f7f950a19ab
      size: 524444
    - path: src/data_splitting.py
      hash: md5
      md5: 6e79daea6bc5d430e1f67be3bf5f9cf8
      size: 2540
    params:
      params.yaml:
        data_splitting.test_size: 0.2
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 65ece3d3437309bba452ce4ebf5e72c3
      size: 103662
    - path: data/processed/X_train.csv
      hash: md5
      md5: 43221fa492384ea4c1047573d5d4c2b4
      size: 414188
    - path: data/processed/y_test.csv
      hash: md5
      md5: 6f4e233ffbd201f6f7ea695e7f29f027
      size: 1275
    - path: data/processed/y_train.csv
      hash: md5
      md5: 2dae9d7c0395256fbdf2bf3d3774ce27
      size: 5063
  model_training:
    cmd: python3 src/model_training.py
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 65ece3d3437309bba452ce4ebf5e72c3
      size: 103662
    - path: data/processed/X_train.csv
      hash: md5
      md5: 43221fa492384ea4c1047573d5d4c2b4
      size: 414188
    - path: data/processed/y_test.csv
      hash: md5
      md5: 6f4e233ffbd201f6f7ea695e7f29f027
      size: 1275
    - path: data/processed/y_train.csv
      hash: md5
      md5: 2dae9d7c0395256fbdf2bf3d3774ce27
      size: 5063
    - path: src/model_training.py
      hash: md5
      md5: 5f124234497f536df4067da7f0aacb8a
      size: 2094
    params:
      params.yaml:
        model_training.colsample_bytree: 1.0
        model_training.learning_rate: 0.05
        model_training.max_depth: 20
        model_training.n_estimators: 100
        model_training.num_leaves: 31
        model_training.subsample: 0.8
    outs:
    - path: models/model.joblib
      hash: md5
      md5: f560eadca5f2fe5b1ae8d8e67f951446
      size: 343258
  model_evaluation:
    cmd: python3 src/model_evaluation.py
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: 65ece3d3437309bba452ce4ebf5e72c3
      size: 103662
    - path: data/processed/y_test.csv
      hash: md5
      md5: 6f4e233ffbd201f6f7ea695e7f29f027
      size: 1275
    - path: models/model.joblib
      hash: md5
      md5: f560eadca5f2fe5b1ae8d8e67f951446
      size: 343258
    - path: src/model_evaluation.py
      hash: md5
      md5: b944d556e0be4016cea949ac98bcd86e
      size: 2708
    outs:
    - path: metrics/metrics.json
      hash: md5
      md5: 352b46522d2c926edbb79f4fb5d55364
      size: 163
